<template>
    <div class="relative overflow-hidden js-section-tec-2">
        <div class="relative pt-100 s:pt-260">
            <div class="relative px-20 s:px-240">

                <div class="relative flex flex-col s:flex-row items-start s:gap-x-105 pb-100 js-s-fade">
                    <div class="relative text-[#25284A] w-full s:w-1/2 flex flex-col gap-y-20">
                        <h4 class="mont font-medium text-28 s:text-34 leading-none tracking-[-1.36px]">Tolerancia a la sequía</h4>
                        <p class="relative pb-15 inter font-normal text-18 leading-[1.35] tracking-[-0.72px]">La tecnología HB4 tiene el potencial de mejorar la capacidad de adaptación de las plantas a situaciones de estrés hídrico, disminuir el riesgo y dar mayor previsibilidad a los rendimientos frente a condiciones adversas.</p>
                        <p class="inter font-medium text-[#3FADE1] text-25 leading-[1.35] tracking-[-1px]">El gen HB4 le permite a la planta seguir su proceso de fotosíntesis a pesar de la falta de agua.</p>
                    </div>

                    <div class="relative w-full s:w-1/2">
                        <figure class="relative w-full h-[35rem] s:h-[46rem] s:top-[-10rem] mt-20 s:mt-0">
                            <img class="w-full h-full object-contain" src="drop-tec.png" alt="Bioceres Tec">
                        </figure>
                    </div>
                </div>

                <div class="relative flex flex-col s:flex-row-reverse items-start s:gap-x-105 pb-100 s:pb-200 js-s-fade">
                    <div class="relative text-[#25284A] w-full s:w-1/2 flex flex-col gap-y-20">
                        <h4 class="mont font-medium text-28 s:text-34 leading-none tracking-[-1.36px]">Tolerancia a la sequía</h4>
                        <p class="relative pb-10 inter font-normal text-18 leading-[1.35] tracking-[-0.72px]">El gen HB4 opera reduciendo la sensibilidad al etileno, que es el encargado de regular el crecimiento de la planta bajo condiciones de estrés abiótico.</p>
                        <p class="relative pb-15 inter font-medium text-[#3FADE1] text-25 leading-[1.35] tracking-[-1px]">Aumenta la fotosíntesis, generando antioxidantes y osmoprotectores y retrasa la senescencia, reduciendo los efectos del etileno.</p>
                        <button type="button" class="w-[fit-content] uline relative flex items-center text-[#A0C344] font-regular inter text-18 leading-[1.2] tracking-[-0.72px]">
                            <span class="inline-block">
                                Descarga el Whitepaper
                            </span> 
                            <span class="inline-block ml-5">
                                <svg viewBox="0 0 18 13" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-[1.8rem] h-auto rotate-[135deg]"><path d="M1.49967 6.76172L16.0243 6.76243M1.49967 6.76172L6.36173 11.6238M1.49967 6.76172L6.36173 1.90107" stroke="#B5DC4D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                            </span>
                        </button>
                    </div>

                    <div class="relative w-full s:w-1/2">
                        <figure class="relative w-full h-[46rem] s:top-[-10rem] mt-20 s:mt-0">
                            <img class="w-full h-full object-contain" src="drop-tec-left.png" alt="Bioceres Tec">
                        </figure>
                    </div>
                </div>

                <div class="relative flex flex-col s:flex-row items-start pb-100 s:pb-145 js-s-fade">
                    <div class="relative w-full s:w-[60rem] text-[#25284A] flex flex-col">
                        <h4 class="relative pb-40 mont font-semibold text-30 s:text-45 leading-none tracking-[-1.36px]">
                            ¿Sabías cómo llega <br>
                            <span class="mont font-bold text-[#A0C344]">
                                una variedad tu lote?
                            </span>
                        </h4>
                        <p class="relative pb-30 inter font-normal text-18 leading-[1.35] tracking-[-0.72px]">
                            Cada año, en nuestros programas de mejoramiento genético se evalúan miles de líneas experimentales, las cuales son sometidas a un exhaustivo proceso de evaluación de su potencial y estabilidad frente al rendimiento, como también sus perfiles sanitarios y agronómicos, las cuales son efectuadas bajo las más avanzadas técnicas de laboratorio e invernáculo. Sumado a las evaluaciones de campo, garantizan la selección de las mejores líneas.
                        </p>
                        <p class="relative inter font-normal text-18 leading-[1.35] tracking-[-0.72px]">
                            Posteriormente, nuestro equipo de Desarrollo de Producto se encarga de evaluar estas líneas en distintos ambientes y condiciones productivas, para finalmente poder determinar cuáles de ellas se convertirán en los nuevos lanzamientos que cumplan con los exigentes requerimientos que los productores argentinos necesitan.
                        </p>
                    </div>

                    <div class="relative s:left-[17rem] w-full s:w-[57rem]">
                        <figure class="relative w-full h-[46rem] s:h-[68rem] s:top-[-10rem] s:scale-[1.3] mt-20 s:mt-0">
                            <img class="w-full h-full object-contain" src="drop-tec-right.png" alt="Bioceres Tec">
                        </figure>
                    </div>
                </div>

            </div>

            <div class="relative px-20 s:px-140">
                <div class="relative w-full s:w-[60rem] mx-auto pb-100 s:pb-150 js-s-fade">
                    <h3 class="relative text-center inter font-medium text-[#A0C344] text-30 s:text-33 leading-[1.35] tracking-[-1.32px]">En Bioceres semillas nos esforzamos para entregar las <span class="inter font-bold">mejores variedades de soja, trigo y vicia al mercado.</span></h3>
                </div>
                
                <div class="relative js-s-fade">
                    <div class="relative s:h-[55rem] rounded-[2.5rem] s:rounded-[3rem] overflow-hidden transition-colors duration-500 ease-in-out"
                        :class="backgroundColors[currentStepIndex]">
                        <div class="relative flex flex-col s:flex-row items-start w-full h-full p-30 s:p-100">
                            <!-- Content Section -->
                            <div class="relative pb-40 w-full s:w-[58rem]">
                                <div class="relative text-white w-full">
                                    <TransitionGroup 
                                        name="fade-delay" 
                                        mode="out-in"
                                        tag="div"
                                        class="relative flex flex-col items-start gap-y-20"
                                    >
                                        <div :key="currentStepIndex" class="relative flex flex-col items-start gap-y-20">
                                            <h3 class="relative mont font-bold text-28 s:text-34 leading-none tracking-[-1.36px]">
                                                {{ currentStep.title }}
                                            </h3>
                                            <p class="relative inter font-normal text-20 s:text-24 leading-[1.35] tracking-[-0.96px]">
                                                {{ currentStep.description }}
                                            </p>
                                            <p v-if="currentStep.duration" class="relative inter font-normal text-24 s:text-34 leading-none tracking-[-1.36px]">
                                                Duración {{ currentStep.duration }}
                                            </p>
                                        </div>
                                    </TransitionGroup>
                                </div>
                            </div>

                            <!-- Image Section -->
                            <div class="relative w-full s:w-[auto] s:absolute s:top-1/2 s:right-80 s:-translate-y-1/2">
                                <div class="relative w-full s:w-[37rem] h-[28rem] s:h-[37rem] rounded-full overflow-hidden">
                                    <TransitionGroup 
                                        name="fade-delay" 
                                        mode="out-in"
                                        tag="div"
                                        class="relative w-full h-full"
                                    >
                                        <div :key="currentStepIndex" class="relative w-full h-full">
                                            <img 
                                                :src="currentStep.image" 
                                                :alt="currentStep.title"
                                                class="w-full h-full object-contain bg-black-always"
                                            >
                                        </div>
                                    </TransitionGroup>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation Buttons -->
                        <div 
                            class="mb-40 s:mb-0 flex s:block flex-col items-center justify-center relative s:absolute s:bottom-60 s:left-100 mx-auto s:mx-0 w-[fit-content] rounded-[2.5rem] s:rounded-[3rem] p-6"
                            :class="[
                                currentStepIndex === index 
                                    ? 'bg-white'
                                    : `${backgroundColorsNav[currentStepIndex]}`,
                                ]"
                        >
                            <button 
                                v-for="(step, index) in steps" 
                                :key="index"
                                @click="currentStepIndex = index"
                                class="relative inter font-normal w-[fit-content] rounded-[3rem] py-10 px-40 text-17 leading-none tracking-[-0.68px] transition-all duration-300"
                                :class="[
                                currentStepIndex === index 
                                    ? 'bg-white' 
                                    : `${backgroundColorsNav[currentStepIndex]} hover:bg-white/10`,
                                currentStepIndex === index 
                                    ? `text-${textColorsNav[currentStepIndex]}` 
                                    : 'text-white'
                                ]"
                                type="button"
                            >
                                Paso {{ index + 1 }}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    export default {
        data() {
            return {
            currentStepIndex: 0,
            backgroundColors: [
                'bg-[#3FADE1]',
                'bg-[#a0c344]',
                'bg-[#26284a]',
                'bg-[#d0c788]' 
            ],
            backgroundColorsNav: [
                'bg-[#65d4ff]',
                'bg-[#c6e96b]',
                'bg-[#4c4e70]',
                'bg-[#f6edad]' 
            ],
            textColorsNav: [
                '65d4ff',
                'c6e96b',
                '4c4e70',
                'f6edad' 
            ],
            steps: [
                {
                    title: 'Mejoramiento Genético (Breeding)',
                    description: 'El equipo de Breeding realiza cruzas entre distintas variedades para mejorar el rendimiento, la resistencia a enfermedades y la adaptación a diferentes ambientes. Se seleccionan las mejores plantas en varias generaciones.',
                    duration: '2 años',
                    image: '/path-to-breeding-image.jpg'
                },
                {
                    title: 'Evaluación Preliminar',
                    description: 'Las nuevas variedades se prueban en distintas ubicaciones para evaluar su rendimiento, resistencia a enfermedades y adaptción a diferentes condiciones.',
                    duration: '1 año',
                    image: '/path-to-evaluation-image.jpg'
                },
                {
                    title: 'Posicionamiento y Recomendaciones Agronómicas',
                    description: 'El equipo de Desarrollo evalúa las variedades en zonas clave, ajustando recomendaciones como fecha de siembra, densidad, resistencia a enfermedades y fertilización, según el potencial de rendimiento en cada ambiente.',
                    duration: '4 años',
                    image: '/path-to-positioning-image.jpg'
                },
                {
                    title: 'Comercialización',
                    description: 'La variedad se lanza al mercado, apoyada por actividades de difusión para los productores implementen correctamente las recomendaciones agronómicas.',
                    duration: null,
                    image: '/path-to-commercialization-image.jpg'
                }
            ]
            }
        },
        computed: {
            currentStep() {
            return this.steps[this.currentStepIndex]
            }
        }
    }
</script>

<style lang="scss" scoped>
.back-btns {
    background: #65d4ff;
    border-radius: 3rem;
}

.fade-delay-enter-active {
  transition: all 0.5s ease-out;
  transition-delay: 0.2s;
}

.fade-delay-leave-active {
  transition: all 0.5s ease-out;
}

.fade-delay-enter-from {
  opacity: 0;
  transform: translateX(-20px);
}

.fade-delay-leave-to {
  opacity: 0;
  transform: translateX(20px);
}

.fade-delay-leave-active {
  position: absolute;
}

.fade-delay-move {
  transition: transform 0.5s;
}

.text-65d4ff {
    color: #65d4ff;
}
.text-c6e96b {
    color: #c6e96b;

}
.text-4c4e70 {
    color: #4c4e70;
}
.text-f6edad {
    color: #f6edad;
}
</style>