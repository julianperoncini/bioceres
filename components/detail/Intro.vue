<template>
    <div class="relative">
        <div class="relative">

            <section class="relative s:h-screen pb-100 s:pb-0">
                <div class="absolute inset-0 z-1">
                    <figure class="relative w-full h-full">
                        <img class="relative w-full h-full object-cover" src="/detail-hero-mask.jpg" alt="Product Detail">
                    </figure>
                </div>
                
                <div class="relative w-full flex items-start">
                    <div class="relative pt-150 pl-20 s:pl-240 pr-20 s:pr-0 z-3">
                        <div class="relative pb-10 js-t-fades">

                            <svg v-if="product.type == 'trigo'" class="w-auto h-[8.2rem]" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32.507 82.572">
                                <defs>
                                    <clipPath id="clip-path">
                                        <rect width="32.507" height="82.572" fill="#a0c344"/>
                                    </clipPath>
                                </defs>
                                <g transform="translate(0 0)" clip-path="url(#clip-path)">
                                    <path d="M1.613,47.626c-.127-.29-.247-.553-.358-.82A12.967,12.967,0,0,1,.25,41.469c.028-1.3.073-2.591.068-3.886a2.619,2.619,0,0,1,1.444-2.6A24.417,24.417,0,0,1,.826,31.76a28.518,28.518,0,0,1-.3-4.394c.017-3.317.132-6.633.2-9.95A1.543,1.543,0,0,1,1.6,15.934a1.429,1.429,0,0,1,1.508.136,1.569,1.569,0,0,1,.632,1.441c-.028,1.354-.039,2.708-.081,4.063a.631.631,0,0,0,.4.661C5.841,23.26,7.6,24.328,9.367,25.38c.176.1.358.2.669.375-.217-.483-.388-.823-.526-1.176a12.444,12.444,0,0,1,2.328-13.638C12.869,9.759,14,8.664,15.061,7.508a1.11,1.11,0,0,0,.249-.666c.054-1.746.073-3.493.118-5.24a1.507,1.507,0,1,1,3.011-.034c-.016,1.747-.056,3.494-.109,5.24a1.277,1.277,0,0,0,.361.931,43.621,43.621,0,0,1,4.179,5.153,12.266,12.266,0,0,1,.35,12.468c-.083.167-.159.337-.309.655,1.363-.765,2.578-1.459,3.806-2.131.791-.433,1.609-.815,2.393-1.257A.729.729,0,0,0,29.4,22.1c.052-1.412.062-2.826.1-4.238A1.445,1.445,0,0,1,31,16.328a1.413,1.413,0,0,1,1.506,1.518c0,1.178-.036,2.356-.063,3.533-.06,2.728-.083,5.457-.2,8.183a12.1,12.1,0,0,1-1.582,5.872c.275.205.617.348.778.6a3.1,3.1,0,0,1,.64,1.462c-.018,2.137-.1,4.276-.267,6.405a9.667,9.667,0,0,1-1.374,4.207,4.706,4.706,0,0,1,.9.852,2.79,2.79,0,0,1,.492,1.348,49,49,0,0,1-.188,5.938,12.387,12.387,0,0,1-6.6,9.672c-2.564,1.435-5.161,2.811-7.73,4.238-.141.079-.22.381-.225.581-.08,3.4-.14,6.791-.211,10.186-.022,1-.483,1.549-1.337,1.634a1.443,1.443,0,0,1-1.679-1.577c.019-1.766.066-3.533.1-5.3.033-1.668.054-3.337.107-5a.7.7,0,0,0-.422-.716c-2.994-1.822-6.105-3.489-8.917-5.563A11.8,11.8,0,0,1,.016,54.871c-.054-1.626.038-3.257.068-4.886a2.537,2.537,0,0,1,1.529-2.359m15.219-37.6c-1.006,1.061-1.9,1.986-2.775,2.935a9.6,9.6,0,0,0-2.213,3.9,10.422,10.422,0,0,0,4.228,11.208A.541.541,0,0,0,16.848,28a26.692,26.692,0,0,0,2.78-2.681,9.435,9.435,0,0,0,.721-10.808,49.6,49.6,0,0,0-3.517-4.489M14.269,54.092l.186-.075c.009-1.132.048-2.265.022-3.4a9.876,9.876,0,0,0-4.829-8.639c-1.808-1.135-3.637-2.236-5.456-3.35-.258-.159-.52-.309-.759-.45-.054,1.4-.2,2.76-.139,4.1a9.1,9.1,0,0,0,3.879,7.327c2.283,1.61,4.724,3,7.1,4.479m-.249,12.693.23-.057c-.039-1.521,0-3.049-.135-4.562a8.629,8.629,0,0,0-3.365-6.428c-1.528-1.154-3.174-2.155-4.786-3.193-.916-.59-1.871-1.12-2.78-1.659-.054,1.4-.21,2.778-.139,4.142a9.168,9.168,0,0,0,4.005,7.386c2.253,1.56,4.641,2.922,6.97,4.371M3.675,25.345c-.055,1.507-.2,2.862-.135,4.207a9.15,9.15,0,0,0,3.548,7.073A49.789,49.789,0,0,0,11.32,39.37c1.072.674,2.164,1.318,3.418,2.08-.025-1.578.013-3.006-.083-4.425a9,9,0,0,0-3.9-7.122c-2.3-1.591-4.7-3.032-7.079-4.558M17.147,66.89c1.762-.983,3.427-1.9,5.077-2.84A24.508,24.508,0,0,0,24.932,62.4c3.7-2.8,4.115-6.782,3.827-11.082-2.185,1.237-4.344,2.428-6.47,3.675a10.257,10.257,0,0,0-3.273,2.915c-1.889,2.691-1.931,5.761-1.868,8.981M29.009,38.643c-2.306,1.3-4.581,2.523-6.805,3.837a8.766,8.766,0,0,0-4.373,5.933,42.758,42.758,0,0,0-.4,5.611c0,.024.051.051.118.115,2.149-1.22,4.347-2.388,6.466-3.687a11.157,11.157,0,0,0,4.992-11.81m.339-12.769c-2.156,1.2-4.2,2.37-6.265,3.491a10.076,10.076,0,0,0-4.631,5.059c-.951,2.244-.688,4.6-.792,7.069,2.286-1.3,4.46-2.5,6.6-3.761a10.2,10.2,0,0,0,3.154-2.792c1.956-2.7,2-5.815,1.93-9.065" transform="translate(0 0)" fill="#a0c344"/>
                                </g>
                            </svg>
                            <svg v-else class="w-auto h-[8.2rem]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126 126">
                                <path d="M0 0 C3.56918881 0.81314181 4.95271994 2.46423617 6.9375 5.44140625 C7.71213439 9.73710606 7.84723822 11.90992387 5.6171875 15.6640625 C4.12160572 17.65455903 2.54646213 19.5427418 0.9375 21.44140625 C-0.28902411 23.89445447 -0.18604705 25.9962427 -0.25024414 28.69750977 C-0.51964331 37.86658959 -1.71825294 46.43568948 -7.9609375 53.62890625 C-14.41537512 59.5640213 -20.41006459 61.88380486 -29.0625 62.44140625 C-29.1553125 64.39046875 -29.1553125 64.39046875 -29.25 66.37890625 C-30.04988801 73.34779359 -33.15118068 78.95643559 -38.25 83.75390625 C-43.71875032 88.04992674 -50.07476393 90.7646823 -57.0625 90.44140625 C-57.10375 91.72015625 -57.145 92.99890625 -57.1875 94.31640625 C-58.00213585 101.59076018 -61.84149867 107.11945032 -66.8125 112.31640625 C-74.89449045 117.60078462 -81.90755045 118.89890192 -91.546875 119.0703125 C-96.51048173 119.59424877 -99.78913357 121.26856875 -103.4375 124.62890625 C-106.54768384 126.77641414 -108.41040717 127.10090412 -112.125 126.8828125 C-115.69418881 126.06967069 -117.07771994 124.41857633 -119.0625 121.44140625 C-119.83361487 117.16522377 -119.99039005 114.97873887 -117.7421875 111.25390625 C-116.69133863 109.87308068 -115.60257741 108.52003075 -114.47265625 107.203125 C-111.75421182 103.80695204 -111.9616458 100.47559871 -111.87451172 96.28417969 C-111.61606108 86.2595508 -110.42469709 78.31268762 -102.875 71.06640625 C-97.19763276 66.70301484 -90.30244421 63.67930686 -83.0625 64.44140625 C-83.18625 63.53390625 -83.31 62.62640625 -83.4375 61.69140625 C-83.4375 55.199361 -79.65686584 48.6289742 -75.64453125 43.69921875 C-70.97038883 39.48332559 -64.35282382 36.20426622 -58 36.19140625 C-57.030625 36.27390625 -56.06125 36.35640625 -55.0625 36.44140625 C-55.05992188 35.83554687 -55.05734375 35.2296875 -55.0546875 34.60546875 C-54.66777175 26.22229424 -51.59684888 20.07127807 -45.75 14.06640625 C-44.4196875 13.26203125 -44.4196875 13.26203125 -43.0625 12.44140625 C-42.49660156 12.08433594 -41.93070312 11.72726562 -41.34765625 11.359375 C-35.47160218 8.16758363 -29.73149029 7.92297479 -23.17871094 7.85668945 C-17.24813398 7.73353268 -13.15977063 6.37310288 -8.6875 2.25390625 C-5.57731616 0.10639836 -3.71459283 -0.21809162 0 0 Z M-7.4296875 10.1328125 C-13.35066542 14.87809384 -19.82024578 15.54845567 -27.125 15.37890625 C-32.51590669 15.4644762 -36.57154982 16.44743946 -41.0625 19.44140625 C-41.0625 20.10140625 -41.0625 20.76140625 -41.0625 21.44140625 C-42.0525 21.77140625 -43.0425 22.10140625 -44.0625 22.44140625 C-47.82198269 28.08063029 -48.69495985 34.90437035 -50.0625 41.44140625 C-51.14789063 41.67214844 -52.23328125 41.90289062 -53.3515625 42.140625 C-54.79707993 42.46915169 -56.24238141 42.79862958 -57.6875 43.12890625 C-58.75677734 43.35223633 -58.75677734 43.35223633 -59.84765625 43.58007812 C-66.13981962 45.052098 -70.20032096 47.58163129 -73.8125 53.12890625 C-75.19200668 56.78459896 -75.96023107 60.33108103 -76.6328125 64.171875 C-77.0625 66.44140625 -77.0625 66.44140625 -78.0625 69.44140625 C-80.7578125 70.25 -80.7578125 70.25 -84.1875 70.87890625 C-89.59592552 71.99748051 -93.50307924 73.36644806 -98.0625 76.44140625 C-98.0625 77.10140625 -98.0625 77.76140625 -98.0625 78.44140625 C-98.7225 78.44140625 -99.3825 78.44140625 -100.0625 78.44140625 C-103.56820612 83.48962306 -104.11444404 87.29389483 -104.25146484 93.38232422 C-104.50951286 102.88055553 -105.95614941 109.6675165 -113.0625 116.44140625 C-112.4025 117.76140625 -111.7425 119.08140625 -111.0625 120.44140625 C-108.7238056 119.05280645 -106.39609162 117.6613346 -104.125 116.1640625 C-103.444375 115.71933594 -102.76375 115.27460937 -102.0625 114.81640625 C-101.423125 114.39101562 -100.78375 113.965625 -100.125 113.52734375 C-96.09021478 111.4029682 -92.28358545 111.37030601 -87.8125 111.56640625 C-81.65292743 111.59127666 -76.04273166 111.03152175 -71.2421875 106.859375 C-66.4847098 101.58478016 -64.93212918 96.40842276 -63.72265625 89.52734375 C-62.91378338 86.97149693 -62.24565992 86.00616035 -60.0625 84.44140625 C-57.20703125 83.73828125 -57.20703125 83.73828125 -53.875 83.19140625 C-47.33832855 81.80528172 -43.33119504 79.58455095 -39.0625 74.44140625 C-37.57021868 71.9316604 -37.13605296 69.91524219 -36.69140625 67.05078125 C-35.53502982 60.05112215 -35.53502982 60.05112215 -33.125 56.94140625 C-30.10698065 55.46319269 -28.03863772 55.07984134 -24.75 54.62890625 C-18.70433301 53.71388638 -14.87502201 51.20944756 -11.0625 46.44140625 C-8.94301046 42.37672729 -8.77919782 38.73323296 -8.625 34.19140625 C-8.10266012 24.1585844 -6.2136795 17.63887171 0.9375 10.44140625 C-0.0525 8.46140625 -0.0525 8.46140625 -1.0625 6.44140625 C-4.02890599 6.44140625 -5.27187503 8.29293858 -7.4296875 10.1328125 Z " fill="#A0C343" transform="translate(119.0625,-0.44140625)"/>
                                <path d="M0 0 C3.54966971 1.95119265 5.75989575 4.63984363 8 8 C8.66100598 12.04257341 8.91928345 16.20172043 7.01953125 19.91796875 C4.78408559 22.70367796 2.4389842 24.98853406 -1 26 C-6.26186946 26.48721014 -9.45368799 25.66125581 -14 23 C-14 22.34 -14 21.68 -14 21 C-14.66 21 -15.32 21 -16 21 C-18.56805198 16.31708169 -18.27211361 12.04269495 -17 7 C-12.92817359 0.40083306 -7.46209606 -1.29325755 0 0 Z M-12 8 C-13.44430855 10.88861709 -13.37688506 12.79647701 -13 16 C-10.54405875 19.32274404 -9.0743356 20.77618008 -5 21.625 C-0.9256644 20.77618008 0.54405875 19.32274404 3 16 C3.72222637 12.14812602 3.30285153 10.53581425 1.375 7.125 C-0.84648858 4.75797934 -0.84648858 4.75797934 -3.9375 4.5 C-7.30578105 5.04992344 -9.27217629 5.97361668 -12 8 Z " fill="#9EC143" transform="translate(41,77)"/>
                                <path d="M0 0 C0.845625 0.495 1.69125 0.99 2.5625 1.5 C2.5625 2.16 2.5625 2.82 2.5625 3.5 C3.2225 3.5 3.8825 3.5 4.5625 3.5 C7.10651484 8.13908589 6.98345299 12.51308854 5.5625 17.5 C2.88684793 20.80935913 -0.14010981 24.08428178 -4.48828125 24.87109375 C-8.69302738 24.99454916 -11.5349377 24.91878247 -14.875 22.1875 C-19.13869043 17.71582468 -19.99111364 15.0789199 -19.89453125 9.08203125 C-19.14448271 4.84457753 -16.75165991 2.13681336 -13.4375 -0.5 C-8.53107516 -2.13547495 -4.75572976 -2.07522753 0 0 Z M-12.8125 5.75 C-14.80686357 8.9391903 -14.80686357 8.9391903 -15.4375 12.5 C-14.0382781 15.29844381 -12.64958617 17.28791383 -10.4375 19.5 C-5.80737381 20.01445847 -3.16864338 19.27170651 0.5625 16.5 C2.00680855 13.61138291 1.93938506 11.70352299 1.5625 8.5 C-1.06961465 4.83099171 -2.52604326 3.65990469 -7 2.875 C-10.55123636 3.19705901 -10.55123636 3.19705901 -12.8125 5.75 Z " fill="#A1C443" transform="translate(96.4375,24.5)"/>
                                <path d="M0 0 C2.96260319 1.81189251 5.42159878 3.84319756 7 7 C7.54923479 12.00614007 7.52016569 15.92113784 5.3125 20.5 C1.88160574 24.20907488 -0.46594499 24.86054045 -5.4375 25.3125 C-10.39020738 24.87805198 -13.55851709 23.63368064 -16.875 19.875 C-18.83617089 14.86311883 -18.90194823 10.07448094 -16.75 5.125 C-12.08933316 -0.53438117 -7.11078118 -1.99906867 0 0 Z M-13 9 C-13.63007693 12.99048721 -13.63021887 15.01685857 -11.4375 18.4375 C-8.05782196 20.60396028 -5.94016013 20.56288002 -2 20 C0.71604883 18.07017583 1.74692606 16.65799225 2.9375 13.5625 C3.01997067 10.18120249 2.0198841 8.66913256 0 6 C-5.70661086 2.19559276 -8.98791785 3.61234683 -13 9 Z " fill="#A0C343" transform="translate(68,51)"/>
                            </svg>
                        </div>

                        <div class="relative pb-50 js-t-fades">
                            <h1 class="relative mont text-40 s:text-50 leading-[1.1] tracking-[-2px]">
                                <span class="flex font-semibold text-[#a0c344] capitalize">{{product.type}}</span>
                                <span class="flex font-bold text-[#171F49] uppercase">{{product.data.nombre}}</span>
                            </h1>
                        </div>

                        <div v-if="product.type == 'trigo'" class="relative s:pl-30 pb-50 s:pb-0 js-t-fades">

                            <ul v-if="trigoDescription" class="relative max-w-[55rem] flex flex-col items-start gap-y-30">
                                
                                <li v-for="(item, id) in trigoDescription.items" :key="id" class="relative flex items-center gap-x-40">
                                    <div class="relative w-[3.2rem] h-[3.2rem] flex-shrink-0">
                                        <img class="relative w-full h-full object-contain flex-shrink-0" :src="item.icono.url" :alt="item.icono.alt">
                                    </div>

                                    <div class="relative">
                                        <p class="inter font-normal text-20 s:text-22 leading-[1.2] tracking-[-0.88px] flex-shrink-0">{{$prismic.asText(item.texto)}}</p>
                                    </div>
                                </li>
                                
                            </ul>
                            
                        </div>
                        <div v-else class="relative max-w-[50rem] js-t-fades">
                            <p>{{ $prismic.asText(product.data.descripcion) }}</p>
                        </div>

                        <div class="relative block s:hidden js-t-fades">
                            <figure class="relative w-full h-[35rem]">
                                <img class="w-full h-full object-contain" src="/trigo-bag.png" alt="Producto Detalle">
                                <img class="absolute h-full left-[50%] top-[50%]" style="transform: translate(-50%,-50%);" :src="product.data.imagen.url" :alt="product.data.imagen.alt">
                            </figure>
                        </div>
                    </div>
                </div>
            </section>

            <section v-if="caracteristicas" class="relative pl-20 s:pl-240 pr-20 s:pr-0" id="characteristics-section">
            
                <div class="absolute inset-0 z-1">
                    <figure class="relative w-full h-full">
                        <div class="overlay"></div>
                        <img v-if="caracteristicas.primary.imagen_background.url" class="block s:hidden relative w-full h-full object-cover" :src="caracteristicas.primary.imagen_background.url" alt="Product Detail">

                        <video v-if="caracteristicas.primary.video_background.url" class="hidden s:block relative w-full h-full object-cover"             
                                :src="caracteristicas.primary.video_background.url" 
                                alt="Hero Cultivos"
                                autoplay
                                playsinline
                                muted
                                loop
                            >
                        </video>
                    </figure>
                </div>
                
                <div class="relative py-100 s:py-150 px-20 s:px-0 z-3">
                    <div class="relative pb-50">
                        <h2 class="mont font-semibold relative text-white text-40 s:text-50 leading-[1.1] tracking-[-2px] js-s-lines">
                            Caracter√≠sticas <br> varietales
                        </h2>
                    </div>
                    
                    <div class="relative s:pl-30">
                        <ul class="relative max-w-[55rem] flex flex-col items-start gap-y-35 text-white js-s-fade">
                            <li v-for="(item, i) in caracteristicas.items" :key="i" class="relative flex items-center gap-x-40">
                                <div class="relative w-[3.2rem] h-[3.2rem] flex-shrink-0">
                                    <img class="relative w-full h-full object-contain flex-shrink-0" :src="item.icono.url" alt="">
                                </div>

                                <div class="relative">
                                    <prismic-rich-text class="inter font-normal text-20 s:text-22 leading-none tracking-[-0.88px] flex-shrink-0" :field="item.texto"></prismic-rich-text>
                                    <!--<p class="inter font-bold text-22 leading-none tracking-[-0.88px] flex-shrink-0">Desgrane</p>
                                     <p class="inter font-normal text-20 s:text-22 leading-none tracking-[-0.88px] flex-shrink-0">Resistente</p> -->
                                </div>
                            </li>      
                            <li v-if="caracteristicas.primary.leyenda" class="relative flex items-center gap-x-40">
                               <prismic-rich-text :field="caracteristicas.primary.leyenda" style="font-size: 16px;"></prismic-rich-text>
                            </li>                      
                        </ul>
                    </div>
                </div>
            </section>

        </div>

        <!-- Sticky product bag overlay -->
        <div class="hidden s:block absolute top-0 s:right-[20rem] w-[43rem] h-full z-10">
            <div class="s:sticky s:top-0 s:h-screen flex items-center justify-center js-t-fades">
                <figure class="relative w-full h-[56rem]">
                    <img class="w-full h-full object-contain" src="/trigo-bag.png" alt="Producto Detalle">
                    <img class="absolute h-full left-[50%] top-[50%]" style="transform: translate(-50%,-50%);" :src="product.data.imagen.url" :alt="product.data.imagen.alt">
                </figure>
            </div>
        </div>

    </div>
</template>

<script>
import Page from '~/mixins/Page'

export default {
    mixins: [Page],
    props: {
        product:{
            type: Object,            
        }
    },
    data() {
        return {
        }
    },
    methods: {
        
    },
    computed: {
        trigoDescription() {            
            return Array.from(this.product.data.slices).filter(s => s.slice_type == "rich_text")[0]
        },
        caracteristicas() {            
            return Array.from(this.product.data.slices).filter(s => s.slice_type == "caracteristicas")[0]
        }
    }
}
</script>
<style lang="scss" scoped>
.overlay {
    background: rgba(0, 0, 0, 0.18);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
}
</style>